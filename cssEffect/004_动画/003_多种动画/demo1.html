<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Hello</title>
	<style>
		* {
			margin: 0;
			padding: 0;
		}
		body {
			background: #eee;
		}
		.header {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 60px;
			background: #fff;
		}
		.header .menu {
			position: absolute;
			right: 15px;
			top: 50%;
			margin-top: -15px;
			border: 1px solid #ccc;
			box-sizing: border-box;
			line-height: 28px;
			width: 48px;
			text-align: center;
		}

		.left-cont {
			display: none;
			position: absolute;
			top: 60px;
			left: 0;
			background: #999;
			width: 100%;
			min-height: calc(100vh - 60px);
		}


		.slide-out-end {
			transition: all .6s;
			left: -80%;
			opacity: 0;
		}
		.slide-in-start {
			left: -80%;
			opacity: 0;
		}
		.slide-in-end {
			transition: all .6s;
			left: 0;
			opacity: 1;
		}
	</style>
</head>
<body>

	<div class="header">
		<span class="menu">按钮</span>
	</div>
	<div class="left-cont">123132</div>

	<script src="./class.js"></script>
	<script>
		
		var oBtn = document.querySelector('.menu');
		var oLeft = document.querySelector('.left-cont');

		oBtn.onclick = function () {
			if ( this.type == 'show' ) {
				this.type = 'hide';
				delay(function () {
					addClass(oLeft, 'slide-out-end');
					delClass(oLeft, 'slide-in-start');
					delClass(oLeft, 'slide-in-end');
				}, function () {
					oLeft.style.display = 'none';
					delClass(oLeft, 'slide-out-end');
				}, 630)
			} else {
				this.type = 'show';
				delay(function () {
					oLeft.style.display = 'block';
					addClass(oLeft, 'slide-in-start');
				}, function () {
					addClass(oLeft, 'slide-in-end');
				})
			}
		}

		function delay (prevFn, nextFn, time) {
			prevFn();
			setTimeout(function () {
				nextFn();
			}, time || 30);
		}
	</script>
</body>
</html>