<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>下载文件</title>
</head>
<body>

	<button onclick="downClick()">下载文件</button>

	<button onclick="downClick()">下载文件2</button>

	<script>
		
		function downClick () {
			var src = "./timg1.jpg";
			download(src);
		}

		function downClick2 () {
			window.open('./timg1.jpg');
		}

		function download(src) {
			var $a = document.createElement('a');
			$a.setAttribute("href", src);
			$a.setAttribute("download", "");
			var evObj = document.createEvent('MouseEvents');
			evObj.initMouseEvent('click', true, true, window, 0, 0, 0, 0, 0, false, false, true, false, 0, null);
			$a.dispatchEvent(evObj);
		};
	</script>
</body>
</html>